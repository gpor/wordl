@use '../project-no-select/page-layout.scss' as *;
@use '../project-no-select/board.scss' as *;
@use '../agnostic/transitions.scss' as *;
@use '../agnostic/typography.scss' as *;

@use '../project-no-select/colors.scss' as *;

.board {
    outline: none !important;
    h1 {
        @include clamp(25, 50, 'margin-bottom');
        @include clamp(20, 40, 'margin-top');
    }
    .-rows {
        display: flex;
        flex-direction: column;
        gap: $board-gaps;
        .word-row {
            display: flex;
            gap: $board-gaps;
            transform-origin: 50% 50%;
            .box-container {
                height: 70px;
                position: relative;
                width: 100%;
            }
            .input-box,
            .box-backing {
                @include input-box;
                height: 100%;
                left: 0;
                position: absolute;
                transform-origin: 100% center;
                transition: transform .5s ease-in-out;
                transform-style: preserve-3d;
                top: 0;
            }
            .input-box {
                // background-color: #565454;
                opacity: 1;
                transform: rotateX(0deg);
             }
            .box-backing {
                opacity: 0;
                transform: rotateX(-180deg);
            }
            &.shake {
                .input-box {
                    animation: shake-animation .5s ease infinite;
                }
            }
            &.flip {
                .box-container {
                    @for $i from 0 through 4 {
                        &:nth-child(#{$i + 1}) {
                            .box-backing {
                                animation: .1s forwards fade-in;
                                animation-delay: #{($i * .4) + .2}s;
                                transition-delay: #{$i * .4}s;
                                transform: rotateX(0deg);
                            }
                            .input-box {
                                animation: .1s forwards fade-in;
                                animation-delay: #{($i * 1) + .2}s;
                                transition-delay: #{$i * .4}s;
                                transform: rotateX(180deg);
                            }
                        }
                    }
                }
                .box-backing {
                    &.-yellow {
                        @include yellow-box;
                    }
                    &.-green {
                        @include green-box;
                    }
                    &.-grey {
                        @include grey-box;
                    }
                }
            }
        }
    }
}

